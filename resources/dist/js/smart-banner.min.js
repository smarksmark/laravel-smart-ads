fetch("/smart-banner-auto-placements").then(e=>e.json()).then(e=>{e.forEach(function(e){e.enabled&&JSON.parse(e.placements).forEach(function(t){if(t.selector){var n=document.querySelector(t.selector);if(n){let r="";"HTML"==e.adType?r='<div class="smart-banner-temp" banner-slug="'+e.slug+'" style="'+t.style+'">'+e.body+"</div>":"IMAGE"==e.adType&&(r='<div  rel="nofollow" class="smart-banner-temp" banner-slug="'+e.slug+'" style="'+t.style+'">                          <a href="'+(e.imageUrl?e.imageUrl:"#")+'" target="_blank" >                            <img src="/storage/'+e.image+'" alt="'+e.imageAlt+'" />                          </a>                         </div>'),n.insertAdjacentHTML(t.position,r)}}})});var t=document.querySelectorAll(".smart-banner-temp");t.forEach(function(e){let t=e.getAttribute("banner-slug"),n=e.getAttribute("style"),r=e.getAttribute("rel");e.firstElementChild.setAttribute("banner-slug",t),e.firstElementChild.setAttribute("style",n),e.firstElementChild.setAttribute("rel",r),e.firstElementChild.classList.add("smart-banner"),e.replaceWith(...e.childNodes)});var t=document.querySelectorAll(".smart-banner");t.forEach(function(e){e.addEventListener("click",updateClick)})});function updateClick(e){let t;fetch("/smart-banner-update-clicks",{headers:{"Content-Type":"application/json",Accept:"application/json, text-plain, */*","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},method:"post",credentials:"same-origin",body:JSON.stringify({slug:e.target.closest(".smart-banner").getAttribute("banner-slug")})}).catch(function(e){console.log(e)})}